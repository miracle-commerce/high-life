(()=>{var e={845:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArmadaLoaded=void 0,t.isArmadaLoaded=e=>{var t,i;const a=!0===(null===(i=null===(t=window.eight)||void 0===t?void 0:t.armada)||void 0===i?void 0:i.loaded);if(!e)return a;a?e():document.addEventListener("ARMADA:LOADED",e)},t.default=t.isArmadaLoaded})(0,e),e})()}},t={};function i(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(845);class t extends HTMLElement{constructor(){super(),this.thumbnailSlider=this.querySelector('[data-armada-selector="product-thumbnail-slider"]'),this.sliderContainer=this.querySelector('[data-armada-selector="product-thumbnail-slider-container"]'),this.mediaContainer=this.querySelector('[data-armada-selector="product-media-container"]'),this.galleryProductId=+this.dataset.productId,this.scopeId=this.dataset.scopeId,this.featuredImageId=+this.dataset.featuredImageId,this.sliderAnimiationElement=this.querySelector('[data-armada-selector="product-thumbnail-animate-target"]'),this.downArrow=this.querySelector('[data-armada-selector="product-thumbnail-down-arrow"]'),this.activeThumbnailClasses=["theme-active-thumbnail"]}connectedCallback(){(0,e.isArmadaLoaded)(this.init.bind(this))}init(){this.thumbnailSlider.addEventListener("click",(e=>this.setMedia(this.mediaContainer,this.getMediaId(e.target)))),this.thumbnailSlider.addEventListener("click",(e=>this.setActiveThumbnail(this.getMediaId(e.target),this.thumbnailSlider,this.activeThumbnailClasses))),this.thumbnailSlider.addEventListener("keyup",(e=>this.keyUpHandler(e))),this.sliderContainer.addEventListener("scroll",this.handleArrow.bind(this)),document.addEventListener("ARMADA:VARIANT:CHANGE",(e=>this.handleVariantChange(e))),window.eight.armada.elementRegistry.register({key:"product-thumbnail-gallery",assetPath:"/assets/component-product-thumbnail-gallery.min.js"}),this.animateSlider(),this.setCursorStyle(),this.handleArrow()}handleVariantChange(e){this.scopeId==e.detail.scopeId&&(this.setMediaOnVariantChange(this.mediaContainer,e.detail,this.galleryProductId,this.featuredImageId),this.setActiveThumbnail(this.getMediaIdFromVariant(e.detail.variant,this.featuredImageId),this.thumbnailSlider,this.activeThumbnailClasses))}setMediaOnVariantChange(e,{productId:t,variant:i},a,r,s,d){a==t&&i&&this.setMedia(e,this.getMediaIdFromVariant(i,r),s,d)}getMediaId(e){return e.dataset.mediaId}getMediaIdFromVariant(e,t){return e.featured_media?e.featured_media.id:t}setMedia(e,t){if(!t||"sm"==window.eight.getCurrentBreakpoint())return;this.hideDeselectedMedia(e);const i=e.querySelector(`[data-media-id="${t}"]`);i&&this.displayMedia(i)}hideDeselectedMedia(e){const t=e.querySelector('[data-media-selected="true"]');t.setAttribute("data-media-selected",!1),t.classList.add("hidden")}displayMedia(e){e.setAttribute("data-media-selected",!0),e.classList.remove("hidden")}setActiveThumbnail(e,t,i){const a=t.querySelector('[data-thumbnail-selected="true"]'),r=t.querySelector(`[data-media-id="${e}"]`);a&&r&&this.getMediaId(a)!=e&&e&&(a.setAttribute("data-thumbnail-selected",!1),a.classList.remove(...i),r.setAttribute("data-thumbnail-selected",!0),r.classList.add(...i))}keyUpHandler(e){13===e.keyCode&&e.target.parentElement.click()}animateSlider(){const e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;this.sliderIsScrollable()&&this.sliderAnimiationElement&&!e&&this.sliderAnimiationElement.animate([{transform:"translateY(0)"},{transform:"translateY(-60px)"}],{delay:1500,duration:800,direction:"alternate",iterations:2,easing:"ease"})}setCursorStyle(){this.sliderIsScrollable()&&(this.thumbnailSlider.classList.remove("lg:cursor-pointer"),this.thumbnailSlider.classList.add("lg:cursor-ns-resize"))}handleArrow(){this.sliderIsScrollable()&&(this.sliderContainer.scrollTop>0?this.hideArrow(this.downArrow):this.showArrow(this.downArrow))}showArrow(e){e.classList.remove("opacity-0"),e.classList.add("opacity-40")}hideArrow(e){e.classList.add("opacity-0"),e.classList.remove("opacity-40")}sliderIsScrollable(){return this.thumbnailSlider.offsetHeight>this.sliderContainer.offsetHeight}}customElements.define("product-thumbnail-gallery",t)})()})();