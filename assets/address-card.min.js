(()=>{var __webpack_modules__={"../armada/dist/utils/isArmadaLoaded.js":
/*!**********************************************!*\
  !*** ../armada/dist/utils/isArmadaLoaded.js ***!
  \**********************************************/module=>{eval('(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(self, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/utilities/isArmadaLoaded.ts":\n/*!*****************************************!*\\\n  !*** ./src/utilities/isArmadaLoaded.ts ***!\n  \\*****************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.isArmadaLoaded = void 0;\r\nconst isArmadaLoaded = (callback) => {\r\n    var _a, _b;\r\n    const isLoaded = ((_b = (_a = window.eight) === null || _a === void 0 ? void 0 : _a.armada) === null || _b === void 0 ? void 0 : _b.loaded) === true;\r\n    if (!callback) {\r\n        return isLoaded;\r\n    }\r\n    if (isLoaded) {\r\n        callback();\r\n    }\r\n    else {\r\n        document.addEventListener(\'ARMADA:LOADED\', callback);\r\n    }\r\n};\r\nexports.isArmadaLoaded = isArmadaLoaded;\r\nexports.default = exports.isArmadaLoaded;\r\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = {};\n/******/ \t__webpack_modules__["./src/utilities/isArmadaLoaded.ts"](0, __webpack_exports__);\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n//# sourceMappingURL=isArmadaLoaded.js.map\n\n//# sourceURL=webpack://quay/../armada/dist/utils/isArmadaLoaded.js?')},"../armada/dist/utils/trapFocus.js":
/*!*****************************************!*\
  !*** ../armada/dist/utils/trapFocus.js ***!
  \*****************************************/module=>{eval("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(self, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it uses a non-standard name for the exports (exports).\n(() => {\nvar exports = __webpack_exports__;\n/*!************************************!*\\\n  !*** ./src/utilities/trapFocus.ts ***!\n  \\************************************/\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.removeTrapFocus = exports.trapFocus = void 0;\r\nconst trapFocusHandlers = {};\r\nconst trapFocus = (container, elementToFocus = container) => {\r\n    const focusableElements = \"summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe\";\r\n    const elements = Array.from(container.querySelectorAll(focusableElements));\r\n    const first = elements[0];\r\n    const last = elements[elements.length - 1];\r\n    trapFocusHandlers.focusin = (event) => {\r\n        if (event.target !== container &&\r\n            event.target !== last &&\r\n            event.target !== first)\r\n            return;\r\n        document.addEventListener('keydown', trapFocusHandlers.keydown);\r\n    };\r\n    trapFocusHandlers.focusout = function () {\r\n        document.removeEventListener('keydown', trapFocusHandlers.keydown);\r\n    };\r\n    trapFocusHandlers.keydown = function (event) {\r\n        if (event.code.toUpperCase() !== 'TAB')\r\n            return;\r\n        if (event.target === last && !event.shiftKey) {\r\n            event.preventDefault();\r\n            first.focus();\r\n        }\r\n        if ((event.target === container || event.target === first) &&\r\n            event.shiftKey) {\r\n            event.preventDefault();\r\n            last.focus();\r\n        }\r\n    };\r\n    document.addEventListener('focusout', trapFocusHandlers.focusout);\r\n    document.addEventListener('focusin', trapFocusHandlers.focusin);\r\n    elementToFocus.focus();\r\n};\r\nexports.trapFocus = trapFocus;\r\nconst removeTrapFocus = (elementToFocus = null) => {\r\n    document.removeEventListener('focusin', trapFocusHandlers.focusin);\r\n    document.removeEventListener('focusout', trapFocusHandlers.focusout);\r\n    document.removeEventListener('keydown', trapFocusHandlers.keydown);\r\n    if (elementToFocus)\r\n        elementToFocus.focus();\r\n};\r\nexports.removeTrapFocus = removeTrapFocus;\r\n\n})();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n//# sourceMappingURL=trapFocus.js.map\n\n//# sourceURL=webpack://quay/../armada/dist/utils/trapFocus.js?")},"./src/scripts/components/address-card-form.js":
/*!*****************************************************!*\
  !*** ./src/scripts/components/address-card-form.js ***!
  \*****************************************************/(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @weareeight/armada/dist/utils/isArmadaLoaded */ \"../armada/dist/utils/isArmadaLoaded.js\");\n/* harmony import */ var _weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0__);\n\n\nclass AddressCardForm extends HTMLElement {\n  constructor () {\n    super();\n\n  }\n\n  connectedCallback() {\n    (0,_weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0__.isArmadaLoaded)(this.init.bind(this));\n  }\n\n  init() {\n    this.querySelector('form').addEventListener('change', this.setDefaultAddress.bind(this));\n    window.eight.armada.elementRegistry.register({key: 'address-card-form', assetPath: '/assets/component-address-card-form.min.js'});\n  }\n\n  setDefaultAddress(event) {\n    //Get the form data when the checkbox is checked\n    //and set the url equal to the form action\n    const formData = new FormData(event.target.closest('form'));\n    const addressId = this.getAttribute('address-id');\n    const url = `${window.location.pathname}/${addressId}`;\n\n    fetch(\n      //Post the form data\n      url, {method:'post', body: formData}\n    ).then(response => {\n      if (response.ok) {\n        return response.text()\n      } else {\n        throw new Error('Something went wrong');\n      }\n    }).then(() => {\n      //Fetch the section to display the new default address\n      return window.eight.sectionsEngine.sectionRenderingEngine.fetchSection(window.location.pathname, ['customer--addresses'], [document.querySelector('customer-addresses')], ['customer-addresses']);\n    }).catch((error) => {\n      // if there's an error, log it\n      console.error(error);\n    });\n  }\n}\n\nwindow.customElements.define('address-card-form', AddressCardForm);\n\n\n//# sourceURL=webpack://quay/./src/scripts/components/address-card-form.js?")},"./src/scripts/engines/modal-open.js":
/*!*******************************************!*\
  !*** ./src/scripts/engines/modal-open.js ***!
  \*******************************************/(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @weareeight/armada/dist/utils/isArmadaLoaded */ \"../armada/dist/utils/isArmadaLoaded.js\");\n/* harmony import */ var _weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0__);\n\n\nclass ArmadaModalOpen extends HTMLElement {\n  constructor() {\n    super();\n    this.modalId = this.dataset.modalId;\n  }\n\n  connectedCallback() {\n    (0,_weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_0__.isArmadaLoaded)(this.init.bind(this));\n  }\n\n  init() {\n    this.openButton = this.querySelector('[data-armada-selector=\"modal-open\"]') || this.firstElementChild;\n    this.openButton.addEventListener('click', this.onButtonClick.bind(this));\n    window.eight.armada.elementRegistry.register({key: 'armada-modal-open', assetPath: '/assets/engine-modal-open.min.js'});\n  }\n\n  onButtonClick() {\n    // If dragging within a slider, do nothing\n    const slider = this.closest('slider-engine');\n    if (slider && slider.getAttribute('dragging') == 'true') return;\n\n    if (!this.modalId) return;\n    window.eight.eventsEngine.emit(`${eight.constants.events[\"ARMADA:MODAL:CLOSE:ALL\"]}`);\n    window.eight.eventsEngine.namedEvents.openModal(this.modalId);\n  }\n}\n\ncustomElements.define('armada-modal-open', ArmadaModalOpen);\n\n\n//# sourceURL=webpack://quay/./src/scripts/engines/modal-open.js?")},"./src/scripts/engines/modal.js":
/*!**************************************!*\
  !*** ./src/scripts/engines/modal.js ***!
  \**************************************/(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _weareeight_armada_dist_utils_trapFocus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @weareeight/armada/dist/utils/trapFocus */ "../armada/dist/utils/trapFocus.js");\n/* harmony import */ var _weareeight_armada_dist_utils_trapFocus__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_weareeight_armada_dist_utils_trapFocus__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @weareeight/armada/dist/utils/isArmadaLoaded */ "../armada/dist/utils/isArmadaLoaded.js");\n/* harmony import */ var _weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nclass ArmadaModal extends HTMLElement {\n  constructor() {\n    super();\n    this.modalId = this.dataset.modalId;\n    this.modalUrl = this.dataset.modalUrl;\n    this.modalSection = this.dataset.modalSection;\n    this.modalUnderlayClasses = this.dataset.modalUnderlayClasses;\n    this.modalHeading = this.dataset.modalHeading;\n    this.defaultClasses = [\'invisible\', \'opacity-0\'];\n    this.transitionClasses = [\'opacity-0\', \'translate-y-[30px]\'];\n    this.themeEditorOnly = this.dataset.themeEditorOnly;\n    this.limitWidthToContent = this.dataset.contentWidth;\n    this.customHeaderClasses = this.dataset.headerClasses;\n    this.customBtnClasses = this.dataset.buttonClasses;\n\n    this.limitWidthToContent === \'true\' ? this.elementWidth = \'max-w-max\' : this.elementWidth = \'max-w-[980px]\';\n    this.customHeaderClasses ? this.customHeaderClasses : \'\';\n    this.customBtnClasses ? this.customBtnClasses : \'\';\n\n    this.modalHtml = `\n      <div data-armada-selector="modal-container" class="fixed top-0 bottom-0 left-0 right-0 z-[300] p-xl md:p-3xl flex">\n        <div data-armada-modal-close data-armada-selector-alt="modal-underlay" class="fixed top-0 bottom-0 left-0 right-0 -z-[1]"></div>\n        <div data-armada-selector="modal-inner" class="w-full ${this.elementWidth} max-h-[80%] lg:max-h-full m-auto overflow-x-auto bg-page relative transition-all duration-500">\n          <div data-armada-selector="modal-header" class="flex items-center relative ${this.customHeaderClasses}"></div>\n          <div data-armada-selector="modal-content-wrapper"></div>\n        </div>\n      </div>\n    `;\n    this.closeButtonHtml = `\n      <button data-armada-modal-close data-armada-selector-alt="modal-close-button" type="button" aria-label="Close modal" class="w-11 h-11 absolute top-0 right-0 flex justify-center items-center text-body z-[1] group ${this.customBtnClasses}">\n        <svg data-aid="icon-cancel" width="16" height="16" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg" class="no-touch-hover:group-hover:[transform:scale(1.125)] transition-transform duration-200">\n          <path class="fill-current" fill-rule="evenodd" clip-rule="evenodd" d="M0.0732422 5.3765C-0.0244141 5.47416 -0.0244141 5.63242 0.0732422 5.73008C0.170898 5.82771 0.329224 5.82771 0.426758 5.73008L2.90173 3.25517L5.37659 5.73008C5.43066 5.78413 5.5033 5.80827 5.57397 5.8025C5.63098 5.79783 5.68665 5.77369 5.73022 5.73008C5.82788 5.63245 5.82788 5.47416 5.73022 5.37653L3.25525 2.90159L5.7301 0.426765C5.82776 0.32914 5.82776 0.170845 5.7301 0.0732193C5.63245 -0.0244064 5.47424 -0.0244064 5.37659 0.0732193L2.90173 2.54807L0.42688 0.0732498C0.329224 -0.0244064 0.171021 -0.0244064 0.0733643 0.0732498C-0.024292 0.170876 -0.024292 0.32917 0.0733643 0.426796L2.54822 2.90162L0.0732422 5.3765Z"></path>\n        </svg>\n      </button>\n    `;\n    this.headingHtml = `\n      <h2 data-armada-selector="modal-heading" class="text-h4 font-heading heading-case text-body"></h2>\n    `;\n  }\n\n  connectedCallback() {\n    (0,_weareeight_armada_dist_utils_isArmadaLoaded__WEBPACK_IMPORTED_MODULE_1__.isArmadaLoaded)(this.init.bind(this));\n  }\n\n  init() {\n    document.addEventListener("ARMADA:MODAL:OPEN", (e) => this.handleOpen(e.detail));\n    document.addEventListener("ARMADA:MODAL:CLOSE:ALL", this.closeModal.bind(this));\n\n    if (this.themeEditorOnly && window.Shopify.designMode) {\n      document.addEventListener("shopify:block:select", (e) => this.blockSelectHandler(e));\n      document.addEventListener("shopify:block:deselect", (e) => this.editorCloseHandler(e, e.detail.blockId, true));\n      document.addEventListener("shopify:section:select", (e) => this.sectionSelectHandler(e));\n      document.addEventListener("shopify:section:deselect", (e) => this.editorCloseHandler(e, e.detail.sectionId, false));\n    }\n\n    this.buildModal();\n    window.eight.armada.elementRegistry.register({key: \'armada-modal\', assetPath: \'/assets/engine-modal.min.js\'});\n  }\n\n  blockSelectHandler(e) {\n    // Hide the section modal on block select\n    const sectionModal = this.parentElement.querySelector(`[data-modal-id="${e.detail.sectionId}"]`);\n    if (sectionModal) sectionModal.classList.add(\'!invisible\');\n\n    // Show the block preview modal\n    this.handleOpen(e.detail.blockId);\n  }\n\n  sectionSelectHandler(e) {\n    // Show the section preview modal\n    this.handleOpen(e.detail.sectionId);\n  }\n\n  editorCloseHandler(e, id, isBlock) {\n    // To avoid closing all open modals, only close the one that\'s currently open\n    if (id !== this.modalId) return;\n    const currentModal = document.querySelector(`[data-modal-id="${id}"]`);\n    currentModal.setAttribute(\'open\', false);\n    currentModal.removeAttribute(\'tabindex\');\n    currentModal.classList.add(...this.defaultClasses);\n    currentModal.addTransitionClasses();\n    (0,_weareeight_armada_dist_utils_trapFocus__WEBPACK_IMPORTED_MODULE_0__.removeTrapFocus)();\n\n    if (isBlock) {\n      // Workaround when theme editor has two sidebars (shopify:section:select) only fires once\n      const sectionModal = this.parentElement.querySelector(`[data-modal-id="${e.detail.sectionId}"]`);\n      if (sectionModal) sectionModal.classList.remove(\'!invisible\');\n    }\n  }\n\n  handleOpen(id) {\n    if (id !== this.modalId) return;\n\n    // If using section rendering, get content before opening modal\n    if (this.modalSection) {\n      const modalContentWrapper = this.querySelector(\'[data-armada-selector="modal-content-wrapper"]\');\n      const url = this.modalUrl ? this.modalUrl : \'?\';\n      window.eight.sectionsEngine.sectionRenderingEngine.fetchSection(url, [this.modalSection], [modalContentWrapper], [undefined], this.openModal.bind(this));\n    } else {\n      this.openModal();\n    }\n  }\n\n  openModal() {\n    this.setAttribute(\'open\', true);\n    this.setAttribute(\'tabindex\', \'0\');\n    this.classList.remove(...this.defaultClasses);\n    this.removeTransitionClasses();\n    this.initPaymentButtons();\n    (0,_weareeight_armada_dist_utils_trapFocus__WEBPACK_IMPORTED_MODULE_0__.trapFocus)(this);\n  }\n\n  closeModal() {\n    this.setAttribute(\'open\', false);\n    this.removeAttribute(\'tabindex\');\n    this.classList.add(...this.defaultClasses);\n    this.addTransitionClasses();\n    (0,_weareeight_armada_dist_utils_trapFocus__WEBPACK_IMPORTED_MODULE_0__.removeTrapFocus)();\n  }\n\n  buildModal() {\n    // Get any static content included in markup\n    const staticContentContainer = document.createElement(\'div\');\n    if (this.innerHTML) {\n      staticContentContainer.innerHTML = this.innerHTML;\n      this.innerHTML = \'\';\n    }\n\n    // Add modal html to component\n    const modalContainer = new DOMParser().parseFromString(this.modalHtml, \'text/html\').querySelector(\'[data-armada-selector="modal-container"]\');\n    this.appendChild(modalContainer);\n\n    // Add close button and heading if modal is dismissable\n    if (this.isDismissable) {\n      const modalHeader = this.querySelector(\'[data-armada-selector="modal-header"]\');\n      if (this.modalHeading) {\n        const heading = new DOMParser().parseFromString(this.headingHtml, \'text/html\').querySelector(\'[data-armada-selector="modal-heading"]\');\n        heading.textContent = this.modalHeading;\n        modalHeader.appendChild(heading);\n        modalHeader.classList.add(\'p-s\', \'md:p-l\');\n      }\n      const closeButton = new DOMParser().parseFromString(this.closeButtonHtml, \'text/html\').querySelector(\'[data-armada-selector-alt="modal-close-button"]\');\n      modalHeader.appendChild(closeButton);\n    }\n\n    // Add any static content included in markup\n    if (staticContentContainer.innerHTML) {\n      const modalContentWrapper = this.querySelector(\'[data-armada-selector="modal-content-wrapper"]\');\n      modalContentWrapper.appendChild(staticContentContainer);\n    }\n\n    // Add close event listeners\n    const closeElements = this.querySelectorAll(\'[data-armada-modal-close]\');\n    closeElements.forEach(closeElement => {\n      closeElement.addEventListener(\'click\', this.closeModal.bind(this));\n    })\n\n    // Add transition classes\n    this.addTransitionClasses();\n\n    // Add underlay classes\n    if (this.modalUnderlayClasses) {\n      const underlay = this.querySelector(\'[data-armada-selector-alt="modal-underlay"]\');\n      this.modalUnderlayClasses.split(\' \').forEach(underlayClass => {\n        underlay.classList.add(underlayClass);\n      });\n    }\n  }\n\n  removeTransitionClasses() {\n    const modalInner = this.querySelector(\'[data-armada-selector="modal-inner"]\');\n    this.transitionClasses.forEach(transitionClass => {\n      modalInner.classList.remove(transitionClass);\n    })\n  }\n\n  addTransitionClasses() {\n    const modalInner = this.querySelector(\'[data-armada-selector="modal-inner"]\');\n    this.transitionClasses.forEach(transitionClass => {\n      modalInner.classList.add(transitionClass);\n    })\n  }\n\n  initPaymentButtons() {\n    if(window.Shopify?.PaymentButton) {\n      window.Shopify.PaymentButton.init();\n    }\n  }\n\n  get isDismissable() {\n    return this.dataset.modalDismissable === "true"\n  }\n}\n\ncustomElements.define(\'armada-modal\', ArmadaModal);\n\n\n//# sourceURL=webpack://quay/./src/scripts/engines/modal.js?')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./src/scripts/engines/modal.js"),__webpack_require__("./src/scripts/engines/modal-open.js");var __webpack_exports__=__webpack_require__("./src/scripts/components/address-card-form.js")})();