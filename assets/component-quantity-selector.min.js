(()=>{var t={845:t=>{self,t.exports=(()=>{"use strict";var t={};return((t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArmadaLoaded=void 0,e.isArmadaLoaded=t=>{var e,i;const n=!0===(null===(i=null===(e=window.eight)||void 0===e?void 0:e.armada)||void 0===i?void 0:i.loaded);if(!t)return n;n?t():document.addEventListener("ARMADA:LOADED",t)},e.default=e.isArmadaLoaded})(0,t),t})()}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=i(845);class e extends HTMLElement{constructor(){super(),this.input=this.querySelector("input"),this.line=this.dataset.lineIndex,this.section=this.dataset.sectionId,this.input&&(this.minValue=this.input.getAttribute("min"));this.debouncedOnInput=((t,e=1500)=>{let i;return(...n)=>{clearTimeout(i),i=setTimeout((()=>{t.apply(this,n)}),e)}})((t=>{this.handleInput()}),1500)}connectedCallback(){(0,t.isArmadaLoaded)(this.init.bind(this))}init(){this.querySelectorAll("button").forEach((t=>t.addEventListener("click",this.onButtonClick.bind(this)))),this.input.addEventListener("change",this.onInputChange.bind(this)),this.input.addEventListener("input",this.debouncedOnInput.bind(this)),window.eight.armada.elementRegistry.register({key:"quantity-selector",assetPath:"/assets/component-quantity-selector.min.js"})}onButtonClick(t){t.preventDefault();const e=this.input.value;"plus"===t.target.name?this.input.stepUp():this.input.stepDown(),this.line&&e!==this.input.value&&window.eight.eventsEngine.namedEvents.changeQuantity({line:this.line,quantity:this.input.value,sections:this.section})}onInputChange(){this.line&&window.eight.eventsEngine.namedEvents.changeQuantity({line:this.line,quantity:this.input.value,sections:this.section})}handleInput(){(this.minValue&&this.input.value<this.minValue||this.input.value<1)&&(this.minValue?this.input.value=this.minValue:this.input.value=1)}}customElements.define("quantity-selector",e)})()})();