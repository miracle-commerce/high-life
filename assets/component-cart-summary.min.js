(()=>{var e={1273:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=(e,t,r)=>{let i;return function(){let a=this,s=arguments;const n=()=>{i=null,r||e.apply(a,s)};r&&!i&&e.apply(a,s),clearTimeout(i),i=setTimeout(n,t)}},t.default=t.debounce})(0,e),e})()},845:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArmadaLoaded=void 0,t.isArmadaLoaded=e=>{var t,r;const i=!0===(null===(r=null===(t=window.eight)||void 0===t?void 0:t.armada)||void 0===r?void 0:r.loaded);if(!e)return i;i?e():document.addEventListener("ARMADA:LOADED",e)},t.default=t.isArmadaLoaded})(0,e),e})()}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(1273),t=r(845);class i extends HTMLElement{constructor(){super(),this.cartSummaryWrapper&&this.stickySummary&&this.stickySummaryMobile&&this.emptyEl&&(this.loaded=!1,this.init=this.init.bind(this),this.handleStickySummary=this.handleStickySummary.bind(this),this.handleResize=this.handleResize.bind(this),this.handleSectionFetch=this.handleSectionFetch.bind(this))}connectedCallback(){(0,t.isArmadaLoaded)(this.handleLoaded.bind(this))}handleLoaded(){const t=(0,e.debounce)(this.handleResize,250);window.addEventListener("resize",t),document.addEventListener("ARMADA:CART:COUNT:CHANGE",(()=>this.init())),document.addEventListener("ARMADA:SECTION:FETCH",(e=>this.handleSectionFetch(e.detail))),this.init(),window.eight.armada.elementRegistry.register({key:"component-cart-summary",assetPath:"/assets/component-cart-summary.min.js"})}init(){this.cartMainInner?.offsetHeight>window.innerHeight||window.Shopify.designMode?this.handleStickySummary():this.hideSticky()}async handleSectionFetch({selectors:e}){if(!e.includes('[data-armada-selector="cart-cross-sell-recommendations"]')&&!e.includes('[data-armada-selector="cart-main-section"]'))return;const t=document.querySelectorAll('[data-armada-selector="cart-main-section"] img'),r=Array.from(t).map((e=>new Promise(((t,r)=>{const i=new Image;i.addEventListener("load",(()=>t(i))),i.addEventListener("error",(e=>r(e))),i.src=e.src}))));await Promise.all(r),this.init()}handleResize(){"bottom"===this.crossSellPosition?(this.stickySummary.style.width="100%",this.stickySummary.style.left="0px",this.stickySummaryMobile.style.width="100%",this.stickySummaryMobile.style.left="0px"):(this.stickySummary.style.width=`${this.cartSummaryWrapper.offsetWidth}px`,this.stickySummaryMobile.style.width=`${this.cartSummaryWrapper.offsetWidth}px`),this.cartMainInner?.offsetHeight<=window.innerHeight&&this.hideSticky()}handleStickySummary(){this.emptyEl&&this.emptyEl.classList.remove("hidden"),this.isMobile()||this.emptyEl&&this.emptyEl.querySelector('[data-armada-selector="regular-price-container"]').classList.add("flex");const e=this.isMobile()?document.querySelector('[data-armada-selector="cart-summary-sticky-mobile"]'):document.querySelector('[data-armada-selector="cart-summary-static-top"]');let t=e?e.offsetHeight:60;t=window.Shopify.designMode?t+72:t;const r=new IntersectionObserver(((e,t)=>{if(e[0].isIntersecting)this.hideSticky();else{if(window.pageYOffset<e[0].target.getBoundingClientRect().top)return;this.handleResize(),this.isMobile()?(this.stickySummaryMobile.style.position="fixed",this.stickySummaryMobile.style.top=`${this.topPosition}px`,this.stickySummaryMobile.classList.remove("hidden")):(this.stickySummary.style.position="fixed",this.stickySummary.style.top=`${this.topPosition}px`,this.stickySummary.querySelector('[data-armada-selector="regular-price-container"]').classList.add("flex"),this.stickySummary.classList.remove("hidden"))}}),{root:null,rootMargin:`-${t}px`});if(!this.loaded){if(!this.emptyEl||!this.checkoutButton)return;r.observe(this.emptyEl),r.observe(this.checkoutButton),this.loaded=!0}}hideSticky(){this.isMobile()?this.stickySummaryMobile.classList.add("hidden"):this.stickySummary.classList.add("hidden")}isMobile(){return window.matchMedia("only screen and (max-width: 768px)").matches}get checkoutButton(){return this.querySelector('[data-armada-selector="cart-summary-static-bottom"] [data-armada-selector="checkout-button"]')}get emptyEl(){return document.querySelector("[data-cart-summary-placeholder]")}get cartSummaryWrapper(){return this.parentElement}get stickySummary(){return this.querySelector('[data-armada-selector="cart-summary-sticky"]')}get stickySummaryMobile(){return this.querySelector('[data-armada-selector="cart-summary-sticky-mobile"]')}get lineItemsWrapper(){return document.querySelector('[data-armada-selector="cart-line-items-wrapper"]')}get cartMainSection(){return document.querySelector('[data-armada-selector="cart-main-section"]')}get cartMainInner(){return document.querySelector('[data-armada-selector="cart-main-inner"]')}get headerWrapper(){return document.querySelector("[data-armada-header-wrapper]")}get headerWrapperOffset(){return this.headerWrapper?Math.max(this.headerWrapper.getBoundingClientRect().bottom,0):0}get announcementBar(){return document.querySelector("announcement-bar")}get announcementBarOffset(){return this.announcementBar?Math.max(this.announcementBar.getBoundingClientRect().bottom,0):0}get topPosition(){return Math.max(this.headerWrapperOffset,this.announcementBarOffset)}get crossSellPosition(){let e;const t=document.querySelector("cart-cross-sells");return t&&(e=t.dataset.cartPosition),e||""}}customElements.define("cart-summary",i)})()})();