(()=>{class t extends HTMLElement{constructor(){super(),this.form=this.closest("form"),this.submitBtn=this.form.querySelector('[type="submit"]'),this.emailInput=this.querySelector("input[type=email]"),this.validRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.submitBtn.setAttribute("type","button")}connectedCallback(){document.addEventListener("ARMADA:TRANSLATION:SYNC",this.init.bind(this))}init(){this.form&&this.emailInput&&this.submitBtn&&(this.form.addEventListener("keypress",this.handleKeyPress.bind(this)),this.submitBtn.addEventListener("click",this.handleValidation.bind(this)))}handleKeyPress(t){"Enter"==t.key&&(t.preventDefault(),this.handleValidation())}handleValidation(){this.emailInput.value.match(this.validRegex)?this.form.submit():(window.eight.eventsEngine.emit(`${eight.constants.events["ARMADA:FORM:SUBMIT"]}`),this.emailInput.focus())}}customElements.define("validate-email",t)})();