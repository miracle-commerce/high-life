(()=>{var e={845:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArmadaLoaded=void 0,t.isArmadaLoaded=e=>{var t,a;const s=!0===(null===(a=null===(t=window.eight)||void 0===t?void 0:t.armada)||void 0===a?void 0:a.loaded);if(!e)return s;s?e():document.addEventListener("ARMADA:LOADED",e)},t.default=t.isArmadaLoaded})(0,e),e})()},808:e=>{self,e.exports=(()=>{"use strict";var e={};return(()=>{var t=e;Object.defineProperty(t,"__esModule",{value:!0}),t.removeTrapFocus=t.trapFocus=void 0;const a={};t.trapFocus=(e,t=e)=>{const s=Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")),i=s[0];let o=s[s.length-1];const d=e.querySelector("details:last-of-type summary");d&&(o=d,e.addEventListener("keypress",(e=>{"ENTER"===e.code.toUpperCase()&&(e.target==d?d.toggleAttribute("data-expanded"):d.removeAttribute("data-expanded"),o=void 0!==d.dataset.expanded?s[s.length-1]:d)}))),a.focusin=t=>{t.target!==e&&t.target!==o&&t.target!==i&&"radio"!==t.target.type||document.addEventListener("keydown",a.keydown)},a.focusout=function(){document.removeEventListener("keydown",a.keydown)},a.keydown=function(t){"TAB"===t.code.toUpperCase()&&((t.target===o&&!t.shiftKey||"radio"===t.target.type&&!t.shiftKey)&&(t.preventDefault(),i.focus()),t.target!==e&&t.target!==i||!t.shiftKey||(t.preventDefault(),o.focus()))},document.addEventListener("focusout",a.focusout),document.addEventListener("focusin",a.focusin),t.focus()},t.removeTrapFocus=(e=null)=>{document.removeEventListener("focusin",a.focusin),document.removeEventListener("focusout",a.focusout),document.removeEventListener("keydown",a.keydown),e&&e.focus()}})(),e})()}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=a(808),t=a(845);class s extends HTMLElement{constructor(){super(),this.modalId=this.dataset.modalId,this.modalTestMode=this.dataset.modalTestMode,this.modalUrl=this.dataset.modalUrl,this.modalSection=this.dataset.modalSection,this.modalUnderlayClasses=this.dataset.modalUnderlayClasses,this.modalHeading=this.dataset.modalHeading,this.showInThemeEditor=this.dataset.showInThemeEditor,this.defaultClasses=["invisible","opacity-0"],this.transitionClasses=["opacity-0","translate-y-[30px]"],this.scrollY="",this.hasMultipleModals=this.dataset.hasMultipleModals,this.limitWidthToContent=this.dataset.contentWidth,this.customHeaderClasses=this.dataset.headerClasses,this.customBtnClasses=this.dataset.buttonClasses,this.modalColorScheme=this.dataset.modalColorScheme,this.dataset.modalMaxWidth?this.modalWidth=this.dataset.modalMaxWidth:this.modalWidth="max-w-[980px]",this.isFullScreenOnMobile=this.dataset.mobileFullScreen,this.underlayAttributes=this.dataset.modalUnderlayAttributes,"true"===this.limitWidthToContent?this.elementWidth="max-w-max":this.elementWidth=this.modalWidth,this.isFullScreenOnMobile?this.fullScreenModalClasses="upto-md:max-h-full upto-md:h-full":this.fullScreenModalClasses="",this.isFullScreenOnMobile?this.containerClassesMobile="upto-md:p-0":this.containerClassesMobile="",this.isFullScreenOnMobile?this.mobileWrapperClasses="h-full flex":this.mobileWrapperClasses="",this.customHeaderClasses&&this.customHeaderClasses,this.customBtnClasses&&this.customBtnClasses,this.modalHtml=`\n      <div data-armada-selector="modal-container" class="fixed top-0 bottom-0 left-0 right-0 z-[300] p-xl md:p-3xl flex ${this.containerClassesMobile}">\n        <div data-armada-modal-close data-armada-selector-alt="modal-underlay" class="fixed top-0 bottom-0 left-0 right-0 -z-[1]" ${this.underlayAttributes}></div>\n        <div data-armada-selector="modal-inner" data-armada-animation="general" data-color-scheme="${this.modalColorScheme}" class="w-full ${this.elementWidth} max-h-[80%] lg:max-h-full m-auto overflow-x-auto bg-page relative text-body ${this.fullScreenModalClasses}">\n          <div data-armada-selector="modal-header" class="flex items-center relative ${this.customHeaderClasses}"></div>\n          <div data-armada-selector="modal-content-wrapper" class="${this.mobileWrapperClasses}"></div>\n        </div>\n      </div>\n    `,this.closeButtonHtml=`\n      <button data-armada-modal-close data-armada-selector-alt="modal-close-button" type="button" aria-label="Close modal" class="w-11 h-11 absolute top-0 right-0 flex justify-center items-center text-body z-[1] ${this.customBtnClasses}" data-armada-animation="icon">\n        <svg data-aid="icon-cancel" width="16" height="16" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path class="fill-current" fill-rule="evenodd" clip-rule="evenodd" d="M0.0732422 5.3765C-0.0244141 5.47416 -0.0244141 5.63242 0.0732422 5.73008C0.170898 5.82771 0.329224 5.82771 0.426758 5.73008L2.90173 3.25517L5.37659 5.73008C5.43066 5.78413 5.5033 5.80827 5.57397 5.8025C5.63098 5.79783 5.68665 5.77369 5.73022 5.73008C5.82788 5.63245 5.82788 5.47416 5.73022 5.37653L3.25525 2.90159L5.7301 0.426765C5.82776 0.32914 5.82776 0.170845 5.7301 0.0732193C5.63245 -0.0244064 5.47424 -0.0244064 5.37659 0.0732193L2.90173 2.54807L0.42688 0.0732498C0.329224 -0.0244064 0.171021 -0.0244064 0.0733643 0.0732498C-0.024292 0.170876 -0.024292 0.32917 0.0733643 0.426796L2.54822 2.90162L0.0732422 5.3765Z"></path>\n        </svg>\n      </button>\n    `,this.headingHtml='\n      <h2 data-armada-selector="modal-heading" class="text-h4 font-heading heading-font-styles text-body"></h2>\n    '}connectedCallback(){(0,t.isArmadaLoaded)(this.init.bind(this))}init(){document.addEventListener("ARMADA:MODAL:OPEN",(e=>this.handleOpen(e.detail))),document.addEventListener("ARMADA:MODAL:CLOSE:ALL",(e=>this.closeModal())),window.Shopify.designMode&&this.showInThemeEditor&&(document.addEventListener("shopify:block:select",(e=>this.blockSelectHandler(e))),document.addEventListener("shopify:block:deselect",(e=>this.editorCloseHandler(e,e.detail.blockId,!0))),document.addEventListener("shopify:section:select",(e=>this.sectionSelectHandler(e))),document.addEventListener("shopify:section:deselect",(e=>this.editorCloseHandler(e,e.detail.sectionId,!1)))),this.buildModal(),window.eight.armada.elementRegistry.register({key:"armada-modal",assetPath:"/assets/engine-modal.min.js"}),this.modalTestMode&&this.handleOpen(this.modalId)}blockSelectHandler(e){const t=this.parentElement.querySelector(`[data-modal-id="${e.detail.sectionId}"]`);t&&t.classList.add("!invisible"),this.handleOpen(e.detail.blockId)}sectionSelectHandler(e){this.handleOpen(e.detail.sectionId)}editorCloseHandler(t,a,s){if(a===this.modalId)if(this.hasMultipleModals){const i=document.querySelector(`[data-modal-id="${a}"]`);if(i.setAttribute("open",!1),i.removeAttribute("tabindex"),i.classList.add(...this.defaultClasses),i.addTransitionClasses(),(0,e.removeTrapFocus)(),s){const e=this.parentElement.querySelector(`[data-modal-id="${t.detail.sectionId}"]`);e&&e.classList.remove("!invisible")}}else this.closeModal()}handleOpen(e){if(e===this.modalId)if(this.modalSection){const e=this.querySelector('[data-armada-selector="modal-content-wrapper"]'),t=this.modalUrl?this.modalUrl:"?";window.eight.sectionsEngine.sectionRenderingEngine.fetchSection(t,[this.modalSection],[e],[void 0],this.openModal.bind(this))}else this.openModal()}openModal(){this.lockScrolling(),this.setAttribute("open",!0),this.setAttribute("tabindex","0"),this.classList.remove(...this.defaultClasses),this.removeTransitionClasses(),this.clearGridAnimations(),this.modalTestMode||(this.initPaymentButtons(),(0,e.trapFocus)(this))}closeModal(){this.unlockScrolling(),this.setAttribute("open",!1),this.removeAttribute("tabindex"),this.classList.add(...this.defaultClasses),this.addTransitionClasses(),(0,e.removeTrapFocus)()}buildModal(){const e=document.createElement("div");this.innerHTML&&(e.innerHTML=this.innerHTML,this.innerHTML="");const t=(new DOMParser).parseFromString(this.modalHtml,"text/html").querySelector('[data-armada-selector="modal-container"]');if(this.appendChild(t),this.isDismissable){const e=this.querySelector('[data-armada-selector="modal-header"]');if(this.modalHeading){const t=(new DOMParser).parseFromString(this.headingHtml,"text/html").querySelector('[data-armada-selector="modal-heading"]');t.textContent=this.modalHeading,e.appendChild(t),e.classList.add("p-s","md:p-l")}const t=(new DOMParser).parseFromString(this.closeButtonHtml,"text/html").querySelector('[data-armada-selector-alt="modal-close-button"]');e.appendChild(t)}if(e.innerHTML){this.querySelector('[data-armada-selector="modal-content-wrapper"]').appendChild(e)}if(this.querySelectorAll("[data-armada-modal-close]").forEach((e=>{e.addEventListener("click",this.closeModal.bind(this))})),this.addTransitionClasses(),this.modalUnderlayClasses){const e=this.querySelector('[data-armada-selector-alt="modal-underlay"]');this.modalUnderlayClasses.split(" ").forEach((t=>{e.classList.add(t)}))}}removeTransitionClasses(){const e=this.querySelector('[data-armada-selector="modal-inner"]');this.transitionClasses.forEach((t=>{e.classList.remove(t)}))}addTransitionClasses(){const e=this.querySelector('[data-armada-selector="modal-inner"]');this.transitionClasses.forEach((t=>{e.classList.add(t)}))}initPaymentButtons(){window.Shopify?.PaymentButton&&window.Shopify.PaymentButton.init()}lockScrolling(){document.body.classList.add("overflow-hidden")}unlockScrolling(){document.body.classList.remove("overflow-hidden")}clearGridAnimations(){this.closest('[data-armada-animation="grid-item"]')?.removeAttribute("data-armada-animation")}get isDismissable(){return"true"===this.dataset.modalDismissable}}customElements.define("armada-modal",s)})()})();