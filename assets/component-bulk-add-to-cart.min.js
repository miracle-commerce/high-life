(()=>{var t={845:t=>{self,t.exports=(()=>{"use strict";var t={};return((t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArmadaLoaded=void 0,e.isArmadaLoaded=t=>{var e,d;const a=!0===(null===(d=null===(e=window.eight)||void 0===e?void 0:e.armada)||void 0===d?void 0:d.loaded);if(!t)return a;a?t():document.addEventListener("ARMADA:LOADED",t)},e.default=e.isArmadaLoaded})(0,t),t})()}},e={};function d(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,d),n.exports}d.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return d.d(e,{a:e}),e},d.d=(t,e)=>{for(var a in e)d.o(e,a)&&!d.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},d.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=d(845);class e extends HTMLElement{constructor(){super(),this.bulkAddButton=this.querySelector('[data-armada-selector="bulk-add-button"]'),this.templateContent=this.querySelector("template").content,this.loadingButtonHtml=this.templateContent.querySelector("[data-button-loading]").outerHTML,this.addedButtonHtml=this.templateContent.querySelector("[data-button-added]").outerHTML}connectedCallback(){(0,t.isArmadaLoaded)(this.init.bind(this))}init(){this.attachEvents(),window.eight.armada.elementRegistry.register({key:"bulk-add-to-cart",assetPath:"/assets/component-bulk-add-to-cart.min.js"})}attachEvents(){this.bulkAddButton.addEventListener("click",this.handleButtonClick.bind(this))}handleButtonClick(){this.setLoadingButton(),this.bulkAddToCart()}setLoadingButton(){this.innerHTML=this.loadingButtonHtml}bulkAddToCart(){window.eight.cartEngine.addToCart(this.formData,"items",this.atcSuccess.bind(this),this.atcError.bind(this))}atcSuccess(){this.setAddedButton(),setTimeout((()=>{this.resetButton()}),window.eight.product.addedTimeout)}atcError(t){console.warn("Quick add error",t),this.resetButton()}setAddedButton(){this.innerHTML=this.addedButtonHtml}resetButton(){this.innerHTML=this.bulkAddButton.outerHTML,this.bulkAddButton=this.querySelector('[data-armada-selector="bulk-add-button"]'),this.bulkAddButton.addEventListener("click",this.handleButtonClick.bind(this))}get formData(){return window.eight.safeJSONParse(this.dataset.armadaFormData)}detachEvents(){this.bulkAddButton.removeEventListener("click",this.bulkAddToCart.bind(this))}disconnectedCallback(){this.detachEvents()}}window.customElements.define("bulk-add-to-cart",e)})()})();