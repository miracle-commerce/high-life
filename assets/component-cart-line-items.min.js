(()=>{var t={845:t=>{self,t.exports=(()=>{"use strict";var t={};return((t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArmadaLoaded=void 0,e.isArmadaLoaded=t=>{var e,a;const n=!0===(null===(a=null===(e=window.eight)||void 0===e?void 0:e.armada)||void 0===a?void 0:a.loaded);if(!t)return n;n?t():document.addEventListener("ARMADA:LOADED",t)},e.default=e.isArmadaLoaded})(0,t),t})()}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=a(845);class e extends HTMLElement{constructor(){super(),this.elementsToUpdate=['[data-armada-selector="cart-line-items-wrapper"]','[data-armada-selector="cart-summary-info-sticky-desktop"]','[data-armada-selector="cart-summary-info-container"]','[data-armada-selector="cart-summary-info-container-top"]','[data-armada-selector="cart-summary-sticky-mobile"]','[data-armada-selector="cart-summary-sticky-mobile-top"]'],this.cartMainSectionParent=document.querySelector('[id^="shopify-section"][id$="__main"]'),this.cartMainSection=document.querySelector('[data-armada-selector="cart-main-section"]'),this.cartEmptySection=document.querySelector('[data-armada-selector="cart-empty-section"]'),this.cartMainSectionInner='[data-armada-selector="cart-main-inner"]',this.currentItemCount=Array.from(this.querySelectorAll('[name="updates[]"]')).reduce(((t,e)=>t+parseInt(e.value)),0),this.handleQuantityChange=this.handleQuantityChange.bind(this),this.handleCartAdd=this.handleCartAdd.bind(this)}connectedCallback(){(0,t.isArmadaLoaded)((()=>this.attachEvents()))}attachEvents(){document.addEventListener("ARMADA:QUANTITY:CHANGE",this.handleQuantityChange),document.addEventListener("ARMADA:CART:ADD",this.handleCartAdd)}handleQuantityChange(t){this.changeCart(t.detail,this.elementsToUpdate,this.handleUpdates.bind(this))}handleCartAdd(t){if(!this.sectionId)return;const e=this.cartMainSection?this.cartMainSection:this.cartMainSectionParent;window.eight.sectionsEngine.sectionRenderingEngine.fetchSection("?",[`${this.sectionId}`],[e],['[data-armada-selector="cart-main-section"]'])}changeCart(t,e,a){window.eight.cartEngine.changeCart(t,e,a),this.line=t.line,this.quantity=t.quantity}handleUpdates({items:t,item_count:e}){this.handleQuantityError(t,e),this.handleEmptyCart(e)}handleQuantityError(t,e){if(e==this.currentItemCount){const e=t[this.line-1],a=`<p>You can only add ${e.quantity} of this item to your cart: ${e.title}</p>`;window.eight.notifications.addToList({type:"html",data:{html:[a]},dismissible:!0,error:!1})}this.currentItemCount=e}handleEmptyCart(t){t>0||!this.sectionId||window.eight.sectionsEngine.sectionRenderingEngine.fetchSection("?",[`${this.sectionId}`],[this.cartMainSectionParent],[this.cartMainSectionInner])}detachEvents(){document.removeEventListener("ARMADA:QUANTITY:CHANGE",this.handleQuantityChange)}disconnectedCallback(){this.detachEvents()}get sectionId(){return this.dataset.sectionId}}customElements.define("cart-line-items",e)})()})();