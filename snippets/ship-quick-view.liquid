{% assign btn_text = 'templates.collection.quick_view' | t %}
{% unless modal_only %}
  <armada-modal-open
    data-modal-id="quick-view--{{ quick_view_product.id }}--{{ section.id }}"
    class="hidden lg:block opacity-0 translate-y-[5px] transition-all duration-500 w-full absolute p-l quick-view-button{% if classes %} {{ classes }}{% endif %}"
  >
    {% render 'armament-button' with type: 'button', content: btn_text, classes: 'w-full bg-page', data_aid: 'quick-view-button' %}
  </armada-modal-open>
  <safe-load-scripts>
    <script src="{{ 'engine-modal-open.min.js' | asset_url }}" defer="defer" type="module" data-armada-load-key="modal-open"></script>
  </safe-load-scripts>
{% endunless %}
{% unless button_only %}
  <armada-modal
    data-modal-id="quick-view--{{ quick_view_product.id }}--{{ section.id }}"
    data-modal-url="/products/{{ quick_view_product.handle }}"
    data-modal-section="flotilla-featured-product"
    data-modal-dismissable="true"
    data-modal-underlay-classes="bg-black opacity-60"
    data-modal-max-width="max-w-small"
    class="hidden lg:block invisible opacity-0 quick-view-modal"
    data-color-scheme="{{ settings.quick_view_color_scheme }}"
  ></armada-modal>
  <safe-load-scripts>
    <script src="{{ 'engine-modal.min.js' | asset_url }}" defer="defer" type="module" data-armada-load-key="modal"></script>
  </safe-load-scripts>
{% endunless %}
