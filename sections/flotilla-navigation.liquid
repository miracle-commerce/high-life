{% liquid 
  assign search_label = 'general.search.search_box_text' | t
%}

<div class="bg-page text-body" data-color-scheme="{{ section.settings.color_scheme }}">
  {% unless template.name contains 'search' %}
    <div class="hidden lg:hidden upto-lg:px-xl" data-show-search-bar data-armada-selector="mobile-search-bar">
      {% render 'ship-expanded-search-bar' with search_icon: 'search', cancel_icon: 'cancel' %}
    </div>
  {% endunless %}
  <armada-navigation data-armada-section-id={{ section.id }}>
    {% render 'ship-main-navigation' with statically_render_mobile_locales: true, section_blocks: section.blocks, alignment: section.settings.alignment, top_level_font: section.settings.top_level_font, show_desktop_icons: section.settings.show_desktop_icons, show_top_divider: section.settings.show_top_divider, show_bottom_divider: section.settings.show_bottom_divider %}
  </armada-navigation>
</div>

<safe-load-scripts>
  <script src="{{ 'component-navigation.min.js' | asset_url }}" defer="defer" type="module" data-armada-load-key="navigation"></script>
</safe-load-scripts>

{% schema %}
{
  "name": "Navigation",
  "class": "relative",
  "settings": [
    {
      "type": "select",
      "id": "alignment",
      "label": "Alignment (desktop)",
      "options": [
        {
          "value": "justify-start",
          "label": "Left"
        },
        {
          "value": "justify-center",
          "label": "Center"
        },
        {
          "value": "justify-end",
          "label": "Right"
        }
      ],
      "default": "justify-center"
    },
    {
      "type": "select",
      "id": "top_level_font",
      "label": "Top level navigation font (desktop)",
      "options": [
        {
          "value": "headings",
          "label": "Headings"
        },
        {
          "value": "body",
          "label": "Body text"
        }
      ],
      "default": "headings"
    },
    {
      "type": "checkbox",
      "id": "show_desktop_icons",
      "label": "Show dropdown arrows (desktop)",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_top_divider",
      "label": "Show top divider (desktop)",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_bottom_divider",
      "label": "Show bottom divider (desktop)",
      "default": false
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "options": [
        {
          "value": "general",
          "label": "General"
        },
        {
          "value": "accent-1",
          "label": "Accent 1"
        },
        {
          "value": "accent-2",
          "label": "Accent 2"
        },
        {
          "value": "accent-3",
          "label": "Accent 3"
        }
      ],
      "default": "accent-1"
    }
  ],
  "blocks": [
    {
      "name": "Standard menu",
      "type": "standard_menu",
      "settings": [
        {
          "type": "link_list",
          "id": "default_navigation",
          "label": "Menu",
          "default": "main-menu"
        }
      ],
      "limit": 1
    },
    {
      "name": "Mega menu link",
      "type": "mega_menu",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Mega menu"
        },
        {
          "type": "url",
          "id": "heading_link",
          "label": "Link",
          "info": "Optional link for heading"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "default": "main-menu"
        },
        {
          "type": "image_picker",
          "id": "image_1",
          "label": "First image"
        },
        {
          "type": "text",
          "id": "image_heading_1",
          "label": "First image heading"
        },
        {
          "type": "url",
          "id": "image_link_1",
          "label": "First image link"
        },
        {
          "type": "image_picker",
          "id": "image_2",
          "label": "Second image"
        },
        {
          "type": "text",
          "id": "image_heading_2",
          "label": "Second image heading"
        },
        {
          "type": "url",
          "id": "image_link_2",
          "label": "Second image link"
        },
        {
          "type": "image_picker",
          "id": "image_3",
          "label": "Third image"
        },
        {
          "type": "text",
          "id": "image_heading_3",
          "label": "Third image heading"
        },
        {
          "type": "url",
          "id": "image_link_3",
          "label": "Third image link"
        },
        {
          "type": "select",
          "id": "image_aspect",
          "label": "Image aspect ratio",
          "options": [
            {
              "value": "original",
              "label": "Original"
            },
            {
              "value": "square",
              "label": "Square (1:1)"
            }
          ],
          "default": "square"
        },
        {
          "type": "header",
          "content": "Color scheme"
        },
        {
          "type": "select",
          "id": "overlay_color_scheme",
          "label": "Overlay color scheme",
          "options": [
            {
              "value": "light",
              "label": "Light"
            },
            {
              "value": "dark",
              "label": "Dark"
            }
          ],
          "default": "dark"
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "min": 0,
          "max": 100,
          "step": 10,
          "unit": "%",
          "label": "Overlay opacity",
          "default": 0
        },
        {
          "type": "select",
          "id": "text_color_scheme",
          "label": "Text overlay color scheme",
          "options": [
            {
              "value": "light",
              "label": "Light"
            },
            {
              "value": "dark",
              "label": "Dark"
            }
          ],
          "default": "light"
        }
      ]
    },
    {
      "name": "Menu link",
      "type": "menu_link",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Link"
        },
        {
          "type": "url",
          "id": "heading_link",
          "label": "Link"
        }
      ]
    },
    {
      "name": "Gallery menu link",
      "type": "gallery_nav",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Gallery"
        },
        {
          "type": "url",
          "id": "heading_link",
          "label": "Link",
          "info": "Optional link for the heading"
        },
        {
          "type": "image_picker",
          "id": "image_1",
          "label": "First image"
        },
        {
          "type": "text",
          "id": "image_heading_1",
          "label": "First image heading"
        },
        {
          "type": "url",
          "id": "image_link_1",
          "label": "First image link"
        },
        {
          "type": "image_picker",
          "id": "image_2",
          "label": "Second image"
        },
        {
          "type": "text",
          "id": "image_heading_2",
          "label": "Second image heading"
        },
        {
          "type": "url",
          "id": "image_link_2",
          "label": "Second image link"
        },
        {
          "type": "image_picker",
          "id": "image_3",
          "label": "Third image"
        },
        {
          "type": "text",
          "id": "image_heading_3",
          "label": "Third image heading"
        },
        {
          "type": "url",
          "id": "image_link_3",
          "label": "Third image link"
        },
        {
          "type": "image_picker",
          "id": "image_4",
          "label": "Fourth image"
        },
        {
          "type": "text",
          "id": "image_heading_4",
          "label": "Fourth image heading"
        },
        {
          "type": "url",
          "id": "image_link_4",
          "label": "Fourth image link"
        },
        {
          "type": "select",
          "id": "image_aspect",
          "label": "Image aspect ratio",
          "options": [
            {
              "value": "original",
              "label": "Original"
            },
            {
              "value": "square",
              "label": "Square (1:1)"
            }
          ],
          "default": "square"
        },
        {
          "type": "header",
          "content": "Color scheme"
        },
        {
          "type": "select",
          "id": "overlay_color_scheme",
          "label": "Overlay color scheme",
          "options": [
            {
              "value": "light",
              "label": "Light"
            },
            {
              "value": "dark",
              "label": "Dark"
            }
          ],
          "default": "dark"
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "min": 0,
          "max": 100,
          "step": 10,
          "unit": "%",
          "label": "Overlay opacity",
          "default": 0
        },
        {
          "type": "select",
          "id": "text_color_scheme",
          "label": "Text overlay color scheme",
          "options": [
            {
              "value": "light",
              "label": "Light"
            },
            {
              "value": "dark",
              "label": "Dark"
            }
          ],
          "default": "light"
        }
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "standard_menu",
        "settings": {
          "default_navigation": "main-menu"
        }
      },
      {
        "type": "gallery_nav",
        "settings": {
          "heading_link": "shopify://collections"
        }
      },
      {
        "type": "menu_link",
        "settings": {
          "heading_link": "shopify://collections"
        }
      }
    ]
  }
}
{% endschema %}
